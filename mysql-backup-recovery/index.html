<!DOCTYPE html><html lang="zh-CN"><head><script>!function(){var e=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,t=localStorage.getItem("use-color-scheme")||"auto";("dark"===t||e&&"light"!==t)&&document.documentElement.classList.toggle("dark",!0)}()</script><meta charset="utf-8"><title>MySQL 备份恢复策略</title><meta name="keywords" content="mysql,mysql 备份恢复,数据库,数据库数据恢复,mysql闪回,数据恢复,运维,数据闪回"><meta name="description" content="数据库在运行过程中，总会遇到各种各样的问题：硬件故障、bug 导致数据损坏、由于服务器宕机或者其他原因造成的数据库不可用。除此以外还有人为操作，如 DELETE 语句忘记加条件、ALTER TABLE 执行错表、DROP TABLE 执行错表、黑客攻击……"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/style/main.css"><link rel="stylesheet" href="/style/jquery.fancybox.min.css"><link rel="stylesheet" href="/style/gitalk.css"><script async src="https://www.googletagmanager.com/gtag/js?id=G-2GM6102E19"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-2GM6102E19")</script><link rel="alternate" href="/atom.xml" title="codeover" type="application/atom+xml"><link rel="alternate" href="/rss2.xml" title="codeover" type="application/rss+xml"></head><body><div id="app" class="main"><div class="site-header-container"><div class="site-header"><div class="left"> <a href="https://www.codeover.cn"><img class="avatar" src="/images/avatar.png" alt="" width="32px" height="32px"></a><a href="https://www.codeover.cn"><h1 class="site-title">codeover</h1></a></div><div class="right"><i class="icon menu-switch icon-menu-outline"></i></div></div></div><div class="menu-container" style="height:0;opacity:0"><nav class="menu-list"> <a href="/" class="menu purple-link">首页</a> <a href="/tags/" class="menu purple-link">标签</a> <a href="/categories/" class="menu purple-link">分类</a> <a href="/archives/" class="menu purple-link">归档</a> <a href="/about/" class="menu purple-link">关于</a></nav></div><div class="content-container"><div class="post-detail"><h2 class="post-title">MySQL 备份恢复策略</h2><div class="post-info post-detail-info"><span><i class="icon icon-calendar-outline"></i> 2022-05-08</span><span><i class="icon icon-pricetags-outline"></i> <a href="/tags/linux/">linux ，</a> <a href="/tags/mysql/">mysql</a></span></div><div class="post-content-wrapper"><div class="post-content"><p>数据库在运行过程中，总会遇到各种各样的问题：硬件故障、<code>bug</code> 导致数据损坏、由于服务器宕机或者其他原因造成的数据库不可用。除此以外还有人为操作如 <code>DELETE</code> 语句忘加条件、<code>ALTER TABLE</code> 执行错表、<code>DROP TABLE</code> 执行错表、黑客攻击等。备份就是在数据库意外的情况下保证数据不丢失，或者最小程度丢失的解决方法。</p><h2 id="备份方式"><a href="#备份方式" class="headerlink" title="备份方式"></a>备份方式</h2><h3 id="逻辑备份"><a href="#逻辑备份" class="headerlink" title="逻辑备份"></a>逻辑备份</h3><p>逻辑备份是最常见也是最简单的备份方式，在数据量较少时较为实用。</p><p>逻辑备份的优势：</p><ul><li>备份恢复比较简单，使用 <code>mysql</code> 自带的 <code>mysqldump</code> 即可进行备份，无需额外安装任何软件，恢复的时候使用 <code>mysql</code> 命令恢复即可。</li><li>避免备份内容遭到损坏，只要 <code>mysql</code> 还能执行 <code>SELECT</code> 语句，就可以得到一份可信赖的备份文件，这在文件损坏的时候很有用</li><li>备份的数据非常直观（<code>sql</code> 语句），可以轻易使用 <code>sed</code> <code>grep</code> 等进行修改或者提取</li><li>因为备份的文件是 <code>sql</code> 语句，所以客观上备份的数据不对储存引擎做区分，可以轻易的从 <code>MyISAM</code> 引擎迁移到 <code>InnoDB</code>。</li><li>可以在任一机器执行备份命令，也就是说可以远程备份和恢复。</li></ul><p>逻辑备份的缺点：</p><ul><li>恢复时间较长，使用逻辑备份进行数据恢复，需要占用大量的资源进行行锁分配、冲突检查、构建索引等，这在数据量大时非常致命。</li><li>备份时间较长，因为要使用 <code>mysql</code> 服务进行备份操作，备份时要消耗大量 cpu 资源。</li><li>备份文件较大，逻辑备份在某些场景下比数据库文件更大，文本储存并不总是比储存引擎更高效。当然使用压缩的话备份文件会更小，但是需要消耗更多的 cpu 资源。</li></ul><p>逻辑备份的常用方式：</p><ul><li><code>mysqldump</code> ， <code>mysql</code> 自带的备份工具，通用型强，较为实用。后文会详细介绍。</li><li><code>mydumper</code>，允许使用多线程进行备份，备份的数据会对表结构与数据分离处理，在恢复某些表或数据的时候会有奇效，可以守护进程的工作方式，定时快照和连续二进制日志。</li></ul><h3 id="物理备份"><a href="#物理备份" class="headerlink" title="物理备份"></a>物理备份</h3><p>物理备份在数据量较大时比较实用。</p><p>物理备份的优势：</p><ul><li>备份速度快，因为物理备份就是复制文件，也就意味着复制文件多快，备份就有多快。</li><li>恢复速度快，与备份同理，只需把文件复制到数据库即可，不需要进行额外操作。</li></ul><p>物理备份的缺点：</p><ul><li>出现意外情况的概率较大，因为没有官方物理热备份工具的支持，意味着出问题的概率极大，恢复时需要格外谨慎</li><li><code>InnoDB</code> 的原始文件备份通常比逻辑备份更大，<code>InnoDB</code> 表空间往往包含很多未使用的空间，<code>InnoDB</code> 在表删除后不会立即删除空间，所以即使数据量不多，备份出的文件也可能很大。</li><li>不可跨平台版本，<code>mysql</code> 源文件和文件操作系统、<code>mysql</code> 版本等息息相关，如果环境与原来有差异，很可能无法恢复</li></ul><p>物理备份常用方法：</p><ul><li><code>xtrabackup</code> ，最常用的物理备份工具，由 <code>percona</code> 开源，能够实现对 <code>InnoDB</code> 储存引擎和 <code>XtraDB</code> 存储引擎非阻塞地备份（对于 <code>MyISAM</code> 需要加锁，以得到一份一致性备份）。</li><li>直接复制文件/文件系统快照，这种方式对于 <code>MySIAM</code> 引擎是非常高效的，只需要执行 <code>FLUSH TABLE WITH READ LOCK</code> 就可以复制得到一份备份文件。但是对于 <code>InnoDB</code> 引擎就比较困难，因为 <code>InnoDB</code> 引擎使用了大量的异步技术，即使执行了 <code>FLUSH TABLE WITH READ LOCK</code>，它还是会继续合并日志、缓存数据。所以要用这种方法备份 <code>InnoDB</code>，需要确保 <code>checkpoint</code> 已经最新。</li></ul><h2 id="备份方案"><a href="#备份方案" class="headerlink" title="备份方案"></a>备份方案</h2><h3 id="全量备份"><a href="#全量备份" class="headerlink" title="全量备份"></a>全量备份</h3><p>全量备份分逻辑备份与物理备份，最常用的逻辑备份工具为 <code>mysqldump</code> 与 <code>mydumper</code>，常用的物理备份工具为 <code>xtrabackup</code></p><h4 id="mysqldump"><a href="#mysqldump" class="headerlink" title="mysqldump"></a>mysqldump</h4><h5 id="语法："><a href="#语法：" class="headerlink" title="语法："></a>语法：</h5><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">mysqldump [OPTIONS] [database] [tables]</span><br></pre></td></tr></tbody></table></figure><p>如果不指定任何表，整个数据库将被导出。<code>OPTIONS</code> 支持下列选项，更多的选项可参考 <a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/5.7/en/mysqldump.html">官方文档</a></p><table><thead><tr><th>选项</th><th>解释</th></tr></thead><tbody><tr><td><code>--add-locks</code></td><td>在每个表导出之前增加 LOCK TABLES 并且之后 UNLOCK TABLE</td></tr><tr><td><code>--add-drop-table</code></td><td>在每个 create 语句之前增加一个 drop table</td></tr><tr><td><code>--allow-keywords</code></td><td>允许创建是关键词的列名字，这由表名前缀于每个列名做到</td></tr><tr><td><code>-c</code>，<code>--complete-insert</code></td><td>使用完整的 insert 语句</td></tr><tr><td><code>-C</code>， <code>--compress</code></td><td>如果客户和服务器均支持压缩，压缩两者间所有的信息</td></tr><tr><td><code>--delayed</code></td><td>用 <code>INSERT DELAYED</code> 命令插入行。</td></tr><tr><td><code>-e</code>，<code>--extended-insert</code></td><td>使用多行 <code>INSERT</code> 语法（给出更紧缩并且更快的插入语句）</td></tr><tr><td><code>-#</code>， <code>--debug</code></td><td>用于调试</td></tr><tr><td><code>-F</code>，<code>--flush-logs</code></td><td>在开始导出前，洗掉在 MySQL 服务器中的日志文件（重新开始写入binlog）</td></tr><tr><td><code>-f</code>，<code>--force</code></td><td>即使在一个表导出期间得到一个 SQL 错误，也继续导出</td></tr><tr><td><code>-h</code>，<code>--host=...</code></td><td>从命名的主机上的 MySQL 服务器导出数据。缺省主机是 localhost。</td></tr><tr><td><code>-l</code>，<code>--lock-tables</code></td><td>导出开始执行时锁上所有表</td></tr><tr><td><code>-t</code>，<code>--no-create-info</code></td><td>不写入表创建信息( CREATE TABLE 语句）</td></tr><tr><td><code>-d</code>，<code>--no-data</code></td><td>只导出表结构，不导出任何数据</td></tr><tr><td><code>--opt</code></td><td>相当于同时开启了 <code>--quick --add-drop-table --add-locks --extended-insert --lock-tables</code></td></tr><tr><td><code>-pyour_pass</code>，<code>--password[=your_pass]</code></td><td>与服务器连接时使用的口令，如果你不指定 “=your_pass” 部分，mysqldump 需要来自终端的口令</td></tr><tr><td><code>-P port_num</code>，<code>--port=port_num</code></td><td>与一台主机连接时使用的 TCP/IP 端口号</td></tr><tr><td><code>-q</code>，<code>--quick</code></td><td>不缓冲查询，直接导出至 stdout</td></tr><tr><td><code>-S /path/to/socket</code>，<code>--socket=/path/to/socket</code></td><td>与 localhost 连接时，使用的套接字文件。</td></tr><tr><td><code>-T</code>，<code>--tab=path-to-some-directory</code></td><td>对于每个给定的表，创建一个 table_name.sql 文件，它包含 SQL CREATE 命令，和一个 table_name.txt 文件，它包含数据。 注意：这只有在 mysqldump 运行在 mysqld 守护进程运行的同一台机器上的时候才工作。.txt 文件的格式根据 –fields-xxx 和 –lines–xxx 选项来定。</td></tr><tr><td><code>-u user_name</code>，<code>--user=user_name</code></td><td>与服务器连接时，MySQL 使用的用户名</td></tr><tr><td><code>-v</code>，<code>--verbose</code></td><td>冗长模式。打印出程序所做的更多的信息</td></tr><tr><td><code>-w</code>，<code>--where='where-condition'</code></td><td>只导出被选择了的记录；注意引号是强制的。 <code>--where=user='jimf', -wuserid&gt;1, -wuserid&lt;1</code></td></tr><tr><td><code>--lock-all-tables</code></td><td>锁表备份。由于 <code>MyISAM</code> 不能提供一致性读，如果要得到一份一致性备份，只能进行全表锁定</td></tr><tr><td><code>-V</code>， <code>--version</code></td><td>打印版本信息并且退出</td></tr><tr><td><code>--help</code></td><td>显示一条帮助消息并且退出</td></tr></tbody></table><h5 id="示例："><a href="#示例：" class="headerlink" title="示例："></a>示例：</h5><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">mysqldump --opt -h&lt;host&gt; -u&lt;user&gt; -p&lt;password&gt; &lt;database&gt; &gt; backup.sql</span><br></pre></td></tr></tbody></table></figure><h5 id="恢复："><a href="#恢复：" class="headerlink" title="恢复："></a>恢复：</h5><p>恢复方式比较简单，直接执行 sql 语句就可以了</p><figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line">source backup.sql;</span><br></pre></td></tr></tbody></table></figure><h4 id="xtrabackup"><a href="#xtrabackup" class="headerlink" title="xtrabackup"></a>xtrabackup</h4><h5 id="安装："><a href="#安装：" class="headerlink" title="安装："></a>安装：</h5><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">yum install http://www.percona.com/downloads/percona-release/redhat/0.1-6/percona-release-0.1-6.noarch.rpm</span><br><span class="line">yum update percona-release</span><br><span class="line"><span class="comment"># qpress 用作压缩解压</span></span><br><span class="line">yum install percona-xtrabackup-24 qpress</span><br></pre></td></tr></tbody></table></figure><h5 id="备份："><a href="#备份：" class="headerlink" title="备份："></a>备份：</h5><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">innobackupex --defaults-file=/etc/my.cnf --user=&lt;user&gt; --password=&lt;<span class="built_in">pwd</span>&gt; &lt;要备份到哪个目录&gt; --no-timestamp --compress --compress-threads=4 --parallel=4</span><br></pre></td></tr></tbody></table></figure><ul><li><code>--defaults-file</code> 指定 mysql 配置文件所在的路径</li><li><code>--no-timestamp</code> 不使用当前时间建立文件夹，默认情况下会在备份目录以当前时间创建文件夹。</li><li><code>--compress</code> 开启压缩以减少储存空间占用</li><li><code>--compress-threads=N</code> 压缩线程</li><li><code>--parallel=N</code> 备份线程</li></ul><h5 id="恢复：-1"><a href="#恢复：-1" class="headerlink" title="恢复："></a>恢复：</h5><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># 1：解压</span></span><br><span class="line">innobackupex --decompress &lt;备份文件所在目录&gt; --parallel=4</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2：应用日志</span></span><br><span class="line">innobackupex --apply-log &lt;备份文件所在目录&gt; --parallel=4</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3：复制备份文件到数据目录</span></span><br><span class="line">innobackupex --datadir=&lt;MySQL数据目录&gt; --copy-back &lt;备份文件所在目录&gt; --parallel=4</span><br></pre></td></tr></tbody></table></figure><h3 id="增量备份"><a href="#增量备份" class="headerlink" title="增量备份"></a>增量备份</h3><p>当数据量达到了一定规模后，经常做全量备份就变的不再现实，这是常见的策略就是定期做增量备份，增量备份只包含了变化的数据集，一般情况下不会比原始数据大，所以可以减少备份时间与备份空间。增量备份同时也分逻辑备份与物理备份，常用的物理备份工具是 <code>xtrabackup</code>，逻辑备份常见的则是直接备份 <code>binlog</code> 日志。</p><h4 id="xtrabackup-1"><a href="#xtrabackup-1" class="headerlink" title="xtrabackup"></a>xtrabackup</h4><p><code>xtrabackup</code> 允许进行增量备份，<code>xtrabackup</code>的安装前文已经介绍过，增量备份示例如下：</p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">innobackupex --defaults-file=/etc/my.cnf --user=&lt;user&gt; --password=&lt;<span class="built_in">pwd</span>&gt; --no-timestamp --compress --incremental --incremental-basedir=&lt;全量备份的目录&gt; &lt;增量备份的目标目录&gt;</span><br></pre></td></tr></tbody></table></figure><p>恢复：</p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># 1：对全备解压</span></span><br><span class="line">innobackupex --decompress &lt;全量备份文件所在目录&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2：对全备应用日志</span></span><br><span class="line">innobackupex --apply-log --redo-only &lt;全量备份文件所在目录&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3：对增量备份进行解压</span></span><br><span class="line">innobackupex --decompress &lt;增量备份文件所在的目录&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4：合并增量数据</span></span><br><span class="line">innobackupex --apply-log --redo-only --incremental &lt;全量备份文件所在目录&gt; --incremental-dir=&lt;增量备份文件所在的目录&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5：对合并后的数据应用日志</span></span><br><span class="line">innobackupex --apply-log &lt;全量备份文件所在目录&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 6：复制备份文件到数据目录</span></span><br><span class="line">innobackupex --datadir=&lt;MySQL数据目录&gt; --copy-back &lt;全量备份文件所在目录&gt;</span><br></pre></td></tr></tbody></table></figure><h4 id="binlog"><a href="#binlog" class="headerlink" title="binlog"></a>binlog</h4><p>使用 <code>binlog</code> 做增量备份比较简单，在使用 <code>mysqldump</code> 执行全备的时候增加参数 <code>--flush-logs</code> 轮转日志，然后把新的 <code>binlog</code> 直接复制到备份目录就可以了。</p><p>恢复的时候使用 <code>mysqlbinlog binlog日志文件 &gt; backup.sql</code>，随后链接数据库使用 <code>source</code> 恢复就可以了，注意在恢复前需要过滤掉异常的 sql 语句。</p><p>不必担心日志过多占用空间问题，当下最不值钱的就是储存空间，反倒真正需要恢复数据时会有大用，推荐的 binlog 配置为：</p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># binlog 存放目录</span></span><br><span class="line">log_bin=/www/wwwlogs/mysql/log_bin_data</span><br><span class="line"><span class="comment"># mysql 清除过期日志的时间，默认值 0，不自动清理，而是使用滚动循环的方式。</span></span><br><span class="line">expire_logs_days = 0</span><br><span class="line"><span class="comment"># 如果二进制日志写入的内容超出给定值，日志就会发生滚动。你不能将该变量设置为大于 1GB 或小于 4096 字节。 默认值是 1GB。</span></span><br><span class="line">max_binlog_size = 1000M</span><br><span class="line"><span class="comment"># 记录每一行数据的变化</span></span><br><span class="line">binlog_format = row</span><br><span class="line"><span class="comment"># 备库在重做数据的时候，记录一条 binlog</span></span><br><span class="line">log_slave_updates = 1</span><br><span class="line"><span class="comment"># 记录数据库表中修改前的内容</span></span><br><span class="line">binlog_row_image = FULL</span><br></pre></td></tr></tbody></table></figure><p>恢复：</p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">mysqlbinlog --start-datetime=<span class="string">"2022-05-10 21:41:00"</span> --stop-datetime=<span class="string">"2022-05-11 21:41:00"</span> mysqlbinlog.000001 | mysql -uroot -p1234</span><br></pre></td></tr></tbody></table></figure><h2 id="闪回"><a href="#闪回" class="headerlink" title="闪回"></a>闪回</h2><p><code>mysql</code> 闪回(flashback)利用 <code>binlog</code> 直接进行回滚，能急速恢复且不用停机。<a target="_blank" rel="noopener" href="https://github.com/Meituan-Dianping/MyFlash">MyFlash</a> 是美团开源的一款闪回操作工具</p><p>限制：</p><ol><li><code>binlog</code> 格式必须为 <code>row</code>，且 <code>binlog_row_image=full</code></li><li>仅支持 5.6 与 5.7</li><li>只能回滚 DML（增、删、改）</li></ol><p>安装：</p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># 下载文件</span></span><br><span class="line">wget https://github.com/Meituan-Dianping/MyFlash/archive/master.zip -O MyFlash.zip</span><br><span class="line">unzip MyFlash.zip</span><br><span class="line"><span class="built_in">cd</span> MyFlash-master</span><br><span class="line"></span><br><span class="line"><span class="comment"># 编译安装</span></span><br><span class="line">./build.sh</span><br><span class="line"><span class="built_in">cd</span> binary</span><br></pre></td></tr></tbody></table></figure><p>使用示例：</p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">flashback --databaseNames=&lt;数据库名&gt; --binlogFileNames=&lt;binlog文件位置&gt;</span><br></pre></td></tr></tbody></table></figure><p>执行后会生成 <code>binlog_output_base.flashback</code> 文件，需要用 <code>mysqlbinlog</code> 解析出来再使用</p><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">mysqlbinlog -vv binlog_output_base.flashback &gt; sql_text.sql</span><br></pre></td></tr></tbody></table></figure><p>语法：</p><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>–databaseNames</td><td>要闪回的数据库名称，多个数据库用 <code>,</code> 隔开</td></tr><tr><td>–tableNames</td><td>要闪回的数据表名称，多个用 <code>,</code> 隔开</td></tr><tr><td>–start-position</td><td>闪回的起始位置，默认从头开始处回滚<br>需要使用 binlog 分析工具获取，如 binlog2sql 或 mysqlbinlog</td></tr><tr><td>–stop-position</td><td>闪回的终止位置，默认回滚到文件结尾</td></tr><tr><td>–start-datetime</td><td>闪回的开始时间（误操作的时间）</td></tr><tr><td>–stop-datetime</td><td>闪回的终止时间（误操作的时间）</td></tr><tr><td>–sqlTypes</td><td>指定需要回滚的 sql 类型，支持 INSERT、DELETE、UPDATE<br>多个类型使用逗号 <code>,</code> 分开</td></tr><tr><td>–maxSplitSize</td><td>对生成的闪回文件进行切割</td></tr><tr><td>–binlogFileNames</td><td>指定需要回滚的 binlog 文件，多个文件用 <code>,</code> 隔开</td></tr><tr><td>–outBinlogFileNameBase</td><td>指定输出的 binlog 前缀，如不指定，则默认为 binlog_output_base</td></tr><tr><td>include-gtids</td><td>指定需要回滚的 gtid，支持 gtid 的单个和范围两种形式</td></tr><tr><td>exclude-gtids</td><td>指定不需要回滚的 gtid，用法同 include-gtids</td></tr></tbody></table><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><ol><li>逻辑备份与物理备份可以同时启用，以防万一</li><li>全备的间隔周期不应过长，尽量每周都进行一次全备</li><li>要经常做数据恢复演练，否则真正需要恢复时才发现备份的文件有问题，就追悔莫及了</li><li>如果数据过多，可采用增量备份的方式，但同时恢复失败的风险会更高</li><li><code>binlog</code> 一定要开启，并且设为 <code>row</code> 模式、设置 <code>log_slave_updates = 1</code>，且定时备份 binlog 并分散与异地服务器</li><li>有条件的话增加一个延迟同步库，在做紧急恢复的时候有奇效</li></ol></div><div class="top-div"><ol class="top-box"><li class="top-box-item top-box-level-2"><a class="top-box-link" href="#%E5%A4%87%E4%BB%BD%E6%96%B9%E5%BC%8F"><span class="top-box-text">备份方式</span></a><ol class="top-box-child"><li class="top-box-item top-box-level-3"><a class="top-box-link" href="#%E9%80%BB%E8%BE%91%E5%A4%87%E4%BB%BD"><span class="top-box-text">逻辑备份</span></a></li><li class="top-box-item top-box-level-3"><a class="top-box-link" href="#%E7%89%A9%E7%90%86%E5%A4%87%E4%BB%BD"><span class="top-box-text">物理备份</span></a></li></ol></li><li class="top-box-item top-box-level-2"><a class="top-box-link" href="#%E5%A4%87%E4%BB%BD%E6%96%B9%E6%A1%88"><span class="top-box-text">备份方案</span></a><ol class="top-box-child"><li class="top-box-item top-box-level-3"><a class="top-box-link" href="#%E5%85%A8%E9%87%8F%E5%A4%87%E4%BB%BD"><span class="top-box-text">全量备份</span></a></li><li class="top-box-item top-box-level-3"><a class="top-box-link" href="#%E5%A2%9E%E9%87%8F%E5%A4%87%E4%BB%BD"><span class="top-box-text">增量备份</span></a></li></ol></li><li class="top-box-item top-box-level-2"><a class="top-box-link" href="#%E9%97%AA%E5%9B%9E"><span class="top-box-text">闪回</span></a></li><li class="top-box-item top-box-level-2"><a class="top-box-link" href="#%E6%80%BB%E7%BB%93"><span class="top-box-text">总结</span></a></li></ol></div></div></div><div class="next-post"><a class="purple-link" href="/weichat-mini-decompilation/"><h3 class="post-title"> 下一篇：微信小程序反编译，获取小程序源代码</h3></a></div></div><div id="gitalk-container"></div><footer><div class="site-footer"><div class="social-container"><a href="https://github.com/f-dong" target="_blank"><i class="icon icon-github"></i></a></div> Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> <a href="https://github.com/f-dong/hexo-theme-minimalism" target="_blank">Theme</a> | <a class="icp" href="https://beian.miit.gov.cn" target="_blank">豫ICP备2022011962号</a> | <a class="icp" href="http://www.beian.gov.cn/portal/registerSystemInfo?recordcode=41010402002848" target="_blank">豫公网安备41010402002848号</a></div></footer></div><script src="/js/jquery.min.js"></script><script src="/js/jquery.fancybox.min.js"></script><script>window.is_post=!0</script><script src="/js/main.js"></script><script src="/js/gitalk.min.js"></script><script>var gitalk=new Gitalk({clientID:"eaa8ec37487184406145",clientSecret:"77f9955d0267c1331df7cc706cfa385d2befb9c6",repo:"blog",owner:"f-dong",admin:["f-dong"],id:location.pathname.slice(1,location.pathname.lastIndexOf("/")).substring(0,49),distractionFreeMode:!1,createIssueManually:!0});gitalk.render("gitalk-container")</script></body></html>